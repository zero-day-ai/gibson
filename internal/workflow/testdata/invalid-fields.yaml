# Invalid workflow - contains various field validation errors
name: Invalid Fields Workflow
description: This workflow has multiple validation errors in field values

nodes:
  # Missing required 'agent' field for agent node
  - id: missing_agent_name
    type: agent
    name: Missing Agent Name
    description: Agent node without agent field
    task:
      action: something

  # Missing required 'tool' field for tool node
  - id: missing_tool_name
    type: tool
    name: Missing Tool Name
    input:
      param: value

  # Missing required 'plugin' field for plugin node
  - id: missing_plugin_name
    type: plugin
    name: Missing Plugin Name
    method: execute
    params:
      config: test

  # Missing required 'method' field for plugin node
  - id: missing_plugin_method
    type: plugin
    name: Missing Plugin Method
    plugin: some-plugin
    params:
      config: test

  # Invalid timeout format
  - id: invalid_timeout
    type: agent
    name: Invalid Timeout
    agent: test-agent
    timeout: not-a-duration
    task:
      action: test

  # Invalid retry configuration - negative max_retries
  - id: invalid_retry_count
    type: agent
    name: Invalid Retry Count
    agent: test-agent
    retry:
      max_retries: -5
      backoff: constant
      initial_delay: 1s
    task:
      action: test

  # Invalid backoff strategy
  - id: invalid_backoff
    type: agent
    name: Invalid Backoff
    agent: test-agent
    retry:
      max_retries: 3
      backoff: invalid_strategy
      initial_delay: 1s
    task:
      action: test

  # Exponential backoff missing max_delay
  - id: exponential_no_max_delay
    type: agent
    name: Exponential Without Max Delay
    agent: test-agent
    retry:
      max_retries: 3
      backoff: exponential
      initial_delay: 1s
      multiplier: 2.0
    task:
      action: test

  # Exponential backoff with zero multiplier
  - id: exponential_zero_multiplier
    type: agent
    name: Exponential Zero Multiplier
    agent: test-agent
    retry:
      max_retries: 3
      backoff: exponential
      initial_delay: 1s
      max_delay: 30s
      multiplier: 0
    task:
      action: test

  # Condition node missing expression
  - id: missing_condition_expression
    type: condition
    name: Missing Expression
    condition:
      true_branch:
        - some_node
      false_branch:
        - other_node

  # Condition node missing condition field entirely
  - id: no_condition_field
    type: condition
    name: No Condition Field

  # Parallel node with empty sub_nodes
  - id: empty_parallel
    type: parallel
    name: Empty Parallel Node
    sub_nodes: []

  # Invalid initial_delay format
  - id: invalid_initial_delay
    type: agent
    name: Invalid Initial Delay
    agent: test-agent
    retry:
      max_retries: 2
      backoff: constant
      initial_delay: not-a-duration
    task:
      action: test

  # Invalid max_delay format
  - id: invalid_max_delay
    type: agent
    name: Invalid Max Delay
    agent: test-agent
    retry:
      max_retries: 2
      backoff: exponential
      initial_delay: 1s
      max_delay: invalid
      multiplier: 2.0
    task:
      action: test
