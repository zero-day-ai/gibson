# Invalid workflow - contains a cycle in the dependency graph
name: Cyclic Workflow
description: This workflow has a cycle and should be rejected by validation

nodes:
  # Node A depends on Node C
  - id: node_a
    type: agent
    name: Node A
    description: First node in the cycle
    agent: test-agent
    depends_on:
      - node_c
    task:
      action: step_a

  # Node B depends on Node A
  - id: node_b
    type: agent
    name: Node B
    description: Second node in the cycle
    agent: test-agent
    depends_on:
      - node_a
    task:
      action: step_b

  # Node C depends on Node B, creating a cycle: A -> C -> B -> A
  - id: node_c
    type: agent
    name: Node C
    description: Third node completing the cycle
    agent: test-agent
    depends_on:
      - node_b
    task:
      action: step_c

  # Independent node to test that validator finds cycles even with valid nodes present
  - id: independent_node
    type: agent
    name: Independent Node
    description: This node is not part of the cycle
    agent: test-agent
    task:
      action: independent_step
