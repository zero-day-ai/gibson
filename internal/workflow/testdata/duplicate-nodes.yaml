# Invalid workflow - contains duplicate node IDs
name: Duplicate Node IDs
description: This workflow has nodes with duplicate IDs which should be rejected

nodes:
  - id: scanner
    type: agent
    name: Port Scanner
    agent: nmap-agent
    task:
      target: 192.168.1.1
      ports: 1-1024

  - id: analyzer
    type: tool
    name: Result Analyzer
    tool: analysis-tool
    depends_on:
      - scanner
    input:
      depth: comprehensive

  # Duplicate ID - same as first node
  - id: scanner
    type: agent
    name: Another Scanner
    description: This has the same ID as the first node
    agent: different-agent
    task:
      target: 192.168.1.2

  - id: reporter
    type: plugin
    name: Report Generator
    plugin: report-service
    method: generate
    depends_on:
      - analyzer
    params:
      format: json

  # Another duplicate - same as analyzer
  - id: analyzer
    type: agent
    name: Duplicate Analyzer
    description: This also conflicts with an existing ID
    agent: another-analyzer
    task:
      action: analyze
