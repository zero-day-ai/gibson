prompts:
  - id: "var-system"
    name: "System with Variables"
    position: "system"
    priority: 100
    content: |
      You are {{ index .Agent "name" }}, a specialized agent.
      {{ if index .Agent "expertise" -}}
      Your expertise is in {{ index .Agent "expertise" }}.
      {{ else -}}
      Your expertise is in general security testing.
      {{ end -}}

  - id: "var-context-conditional"
    name: "Conditional Context"
    position: "context"
    priority: 50
    content: |
      Target URL: {{ index .Target "url" }}
      {{ if index .Target "type" -}}
      Target Type: {{ index .Target "type" }}
      {{ else -}}
      Target Type: web_application
      {{ end -}}
    conditions:
      - field: "mission.active"
        operator: "eq"
        value: true

  - id: "var-user-advanced"
    name: "Advanced User Prompt"
    position: "user"
    priority: 10
    content: |
      Mission: {{ index .Mission "name" }}
      Objective: {{ index .Mission "objective" }}
      {{ if index .Mission "constraints" -}}
      Constraints:
      {{ range index .Mission "constraints" -}}
      - {{ . }}
      {{ end -}}
      {{ end -}}
    conditions:
      - field: "mission.type"
        operator: "eq"
        value: "security_audit"

  - id: "var-tools-with-metadata"
    name: "Tools with Metadata"
    position: "tools"
    priority: 20
    content: |
      {{ if index .Custom "tool_count" -}}
      Tool Count: {{ index .Custom "tool_count" }}
      {{ end -}}
      {{ if index .Custom "tools" -}}
      Available Tools:
      {{ range index .Custom "tools" -}}
      - {{ index . "name" }}: {{ index . "description" }}
      {{ end -}}
      {{ end -}}
    metadata:
      category: "tooling"
      version: "1.0"
